<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Partial Switch Mode</title>
    <script src="js/prefixfree.min.js"></script>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/modernizr-2.7.1-csstransforms3d-canvas-touch.js"></script>
    <script src="js/megapix-image.js"></script>
    <script src="js/three.min.js"></script>
    <script src="js/Detector.js"></script>
    <script src="js/CSS3DRenderer.js"></script>
    <script src="js/theta-viewer.js"></script>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <svg id="svgout" class="svgout" width="100%" height="100%">
        <clippath id="theSVGPath">
            <circle id="clip" cx="50%" cy="50%" r="150px" />
        </clippath>
        <!--   <g id="interface" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
            <g sketch:type="MSLayerGroup">
                <circle id="outer_border" class="frame" stroke="#282828" stroke-width="34" sketch:type="MSShapeGroup" cx="50%" cy="50%" r="173"></circle>
                <circle id="base" class="frame" stroke="#808080" stroke-width="30" sketch:type="MSShapeGroup" cx="50%" cy="50%" r="168"></circle>
                <circle id="inner_border2" class="frame" stroke="#292929" stroke-width="1" sketch:type="MSShapeGroup" cx="50%" cy="50%" r="160"></circle>
                <circle id="inner_border" class="frame" stroke="#292929" stroke-width="2" sketch:type="MSShapeGroup" cx="50%" cy="50%" r="152"></circle>
            </g>
        </g> -->
        <g id="interface" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Frame">
                <circle id="base" class="frame" stroke="#808080" stroke-width="30" cx="50%" cy="50%" r="168"></circle>
                <circle id="border1" class="frame" stroke="#292929" stroke-width="4" cx="50%" cy="50%" r="152"></circle>
                <circle id="border2" class="frame" stroke="#292929" cx="50%" cy="50%" r="159.5"></circle>
                <circle id="border3" class="frame" stroke="#292929" stroke-width="6" cx="50%" cy="50%" r="183"></circle>
            </g>
        </g>
    </svg>
    <div class="viewer-container">
        <div id="main-viewer" class="layer"></div>
        <div id="clone-viewer" class="layer layer2"></div>
    </div>
    <script>
    (function($) {

        var myPromise = $.when($('#main-viewer').createMainThetaViewer('images/experiment/R0010250.JPG'));

        myPromise.done(function() {
            $('#clone-viewer').createCloneThetaViewer('images/experiment/R0010256.JPG');
        });

        $('#interface').hide();

        //通常モードに戻るボタン
        $('html').on("keydown", function(event) {

            if (event.which == 32) { //スペースバーが押された時
                $('#clone-viewer').toggle();
                $('#interface').toggle();

            }

            if ($('#interface').css('display') == 'inline') {
                $('.svgout').css('z-index', 2);
            } else if ($('#interface').css('display') == 'none') {
                $('.svgout').css('z-index', 0);
            }
        });

        // $('html').on("keydown", function(event) {

        //     var radius = parseInt($('#clip').attr('r'));
        //     var cx = $('#clip').attr('cx');
        //     var cy = $('#clip').attr('cy');

        //     if ($('#interface').css('display') == 'inline' && event.which == 38) {


        //         if (radius * 3.0 < window.innerHeight) {

        //             radius += 5;

        //         }

        //     } else if ($('#interface').css('display') == 'inline' && event.which == 40) {

        //         if (radius > 100) {
        //             radius -= 5;
        //         }

        //     }

        //     $('.inner_frame').attr('r', radius);
        //     $('.outer_frame').attr('r', radius + 20);
        //     $('#clip').attr('r', radius);

        //     $('#clone-viewer').css({
        //         '-webkit-clip-path': 'circle(' + radius + 'px at ' + cx + ' ' + cy + ')',
        //         'clip-path': 'circle(' + radius + 'px at ' + cx + ' ' + cy + ')'
        //     });

        // });





    }(jQuery));
    </script>
    <!-- <script src="js/timetravel.js"></script> -->
</body>

</html>
